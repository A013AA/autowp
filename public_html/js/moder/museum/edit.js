define("moder/museum/edit",["jquery","googlemaps"],function(e,t){return{init:function(n){function f(e){u?u.setPosition(e):u=new t.Marker({position:e,map:a})}function l(){u&&(u.setMap(null),u=null)}var r=new t.LatLng(55.7423627,37.6786422),i=parseFloat(e("#lat").val()),s=parseFloat(e("#lng").val());s&&i&&(r=new t.LatLng(i,s));var o=e('<div style="width:100%; height: 300px" />').insertAfter(e("#lng"))[0],u=null,a=new t.Map(o,{zoom:2,center:r,mapTypeId:t.MapTypeId.ROADMAP});s&&i&&f(r),e("#lng, #lat").change(function(){var n=parseFloat(e("#lat").val()),r=parseFloat(e("#lng").val());if(r&&n){var i=new t.LatLng(n,r);f(i)}else l()}),t.event.addListener(a,"click",function(t){f(t.latLng),e("#lng").val(t.latLng.lng()),e("#lat").val(t.latLng.lat())}),e("#address").change(function(){e.getJSON(n.addressToLatLngUrl,{address:e(this).val()},function(n){if(n){var r=new t.LatLng(n.lat,n.lng);f(r),e("#lat").val(n.lat),e("#lng").val(n.lng)}})})}}});