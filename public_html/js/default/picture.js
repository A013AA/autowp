define("default/picture",["jquery","bootstrap"],function(e,t){return{init:function(t){e("#picture_voting_bar, #voting_bar_positive, #voting_bar_vote").on("mousemove",function(n){var r=n.target;if(e(r).attr("id")=="voting_bar_positive"||e(r).attr("id")=="voting_bar_vote")r=r.parentNode;if(e(r).hasClass("voted"))return;var i=n.pageX-e(r).offset().left;i=Math.ceil(i/t.starWidth)*t.starWidth,e("#voting_bar_positive").hide(),e("#voting_bar_vote").show().css({width:i+"px"}),r.hide=!1}),e("#picture_voting_bar, #voting_bar_positive, #voting_bar_vote").on("mouseout",function(t){var n=t.target;if(e(n).attr("id")=="voting_bar_positive"||e(n).attr("id")=="voting_bar_vote")n=n.parentNode;if(e(n).hasClass("voted"))return;this.hide=!0,setTimeout(function(){n.hide&&(e("#voting_bar_positive").show(),e("#voting_bar_vote").hide().css({width:"0px"}),n.hide=!1)},500)}),e("#voting_bar_vote").on("click",function(n){var r=n.target.parentNode;if(e(r).hasClass("voted"))return;var i=Math.ceil((n.pageX-e(r).offset().left)/t.starWidth);e.post(t.voteUrl,{value:i},function(t){e("#voting_bar_vote").hide().css({width:"0px"}),e("#voting_bar_positive").animate({width:t.width+"px"},2e3),e("#picture_voting_bar").addClass("voted"),e("#picture_voting_bar, #voting_bar *").unbind()},"json")}),e(".picture-preview-medium a").on("click",function(){return window.open(e(this).attr("href"),"_blank"),!1})}}});